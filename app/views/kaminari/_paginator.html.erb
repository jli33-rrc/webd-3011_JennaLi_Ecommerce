<%
=begin

The container tag
- available local variables
  current_page : a page object for the currently displayed page
  total_pages  : total number of pages
  per_page     : number of items to fetch per page
  remote       : data-remote
  paginator    : the paginator that renders the pagination tags inside

=end
%>

<%= paginator.render do %>
  <nav class="pagination is-centered is-rounded" role="navigation" aria-label="pagination">
    <ul class="pagination-list">
      <% unless current_page.first? %>
        <li>
          <%= link_to t('views.pagination.first').html_safe, url_for(page: 1),
            class: "pagination-link has-background-light has-text-dark has-text-weight-medium" %>
        </li>
      <% end %>

      <% each_page do |page| %>
        <% if page.display_tag? %>
          <% if page.current? %>
            <li>
              <span class="pagination-link is-current has-background-dark has-text-light has-text-weight-medium">
                <%= page.number %>
              </span>
            </li>
          <% else %>
            <li>
              <%= link_to page.number, url_for(page: page),
                class: "pagination-link has-background-light has-text-dark has-text-weight-medium" %>
            </li>
          <% end %>
        <% elsif !page.was_truncated? %>
          <li><span class="pagination-ellipsis">&hellip;</span></li>
        <% end %>
      <% end %>

      <% unless current_page.last? %>
        <li>
          <%= link_to t('views.pagination.last').html_safe, url_for(page: total_pages),
            class: "pagination-link has-background-light has-text-dark has-text-weight-medium" %>
        </li>
      <% end %>
    </ul>
  </nav>
<% end %>
